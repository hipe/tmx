#!/usr/bin/env ruby -w

require_relative 'test-support'

module Skylab::TanMan::TestSupport::Models::DotFile

  class Grammar < ::Skylab::TanMan::TestSupport::Sexp::Grammar

    # we jump through some hoops to bootstrap-in a real life grammar
    # into the testing mix

    def grammars o
    o.treetop_grammar '../../../models/dot-file/dot-language-hand-made.treetop'
    o.treetop_grammar '../../../models/dot-file/dot-language.generated.treetop'
    end

    def do_force_overwrite
      true
    end

    def stem_path
      'dawt-file' # used to make a tmpdir dir
    end
  end
end

if __FILE__ == $PROGRAM_NAME
  ::Skylab::TanMan::TestSupport::Models::DotFile::Grammar.new.invoke ARGV
end
