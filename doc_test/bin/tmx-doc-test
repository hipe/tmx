#!/usr/bin/env ruby -w

require 'skylab/doc_test'

Skylab::Doc_test = -> i, o, e, pn_s_a, argv do
  Skylab::DocTest::CLI.new( i, o, e, pn_s_a ).invoke argv
end

if __FILE__ == $PROGRAM_NAME
  d = Skylab::Doc_test[ $stdin, $stdout, $stderr, [ $PROGRAM_NAME ], ARGV ]
  if d.nonzero?
    $stderr.puts "(exitstatus: #{ d })"
  end
  exit d
end
